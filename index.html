<!doctype html>
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rapport de stage (M1 GSI) ‚Äî Justine Bouwy-Ounnough</title>
  <meta name="description" content="Microsite de valorisation du rapport de stage M1 GSI : Barom√®tre de la Science Ouverte (ASNR)" />

  <!-- ======================= CSS & LIBS ======================= -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind: dark mode + palette brand/accent
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            brand: {
              50:'#EEF2FF',100:'#E0E7FF',200:'#C7D2FE',300:'#A5B4FC',
              400:'#818CF8',500:'#6366F1',600:'#4F46E5',700:'#1E3A8A',
              800:'#1E3A8A',900:'#172554'
            },
            accent: {
              50:'#FFF1ED',100:'#FFD9D2',200:'#FFB5A6',300:'#FF907F',
              400:'#FF735F',500:'#F85E49',600:'#E1493A',700:'#BF3A2F',
              800:'#9F3028',900:'#7F261F'
            }
          }
        }
      }
    };
  </script>

  <!-- ======================= FAVICON ======================= -->
  <link rel="icon" type="image/png" href="files/favicon.png" />

  <!-- ======================= THEME PREF (√©vite le flash) ======================= -->
  <script>
    (function () {
      const stored = localStorage.getItem('theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (stored === 'dark' || (!stored && prefersDark)) {
        document.documentElement.classList.add('dark');
      }
    })();
  </script>

  <!-- ======================= MATHJAX (option C: scoping) ======================= -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        tags: 'ams',
        macros: { OA:'\\mathrm{OA}', HAL:'\\mathrm{HAL}', Scopus:'\\mathrm{Scopus}', OpenAlex:'\\mathrm{OpenAlex}' }
      },
      options: {
        enableAssistiveMml: true,
        ignoreHtmlClass: '.*',               // ignore tout...
        processHtmlClass: 'mathjax-process', // ...sauf ce qui a cette classe
        skipHtmlTags: ['script','style','noscript','textarea','pre','code','a']
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <!-- ======================= HARMONISATION MATHJAX + STYLES DEMAND√âS ======================= -->
  <style>
    /* Harmonisation MathJax avec le th√®me */
    mjx-container[jax="SVG"]{color:inherit}
    mjx-container[jax="SVG"] svg{fill:currentColor;stroke:currentColor}
    mjx-container[display="true"]{margin:0.5rem 0}

    /* ==== Tes ajouts graphiques (scop√©s au contenu) ==== */
    #content p{
      text-align: justify;
      text-justify: inter-word;
      hyphens: auto;
    }
    #content h3{
      font-weight:700;
      color:#FF735F;
    }
    #content details > summary{
      font-weight:700;
      color:#FF735F;
    }
    #content li{
      color:#1d698f;
    }
    #content ul{
      color:#000000;
    }
    #content li > a{ color: inherit; }
  </style>
</head>

<body class="bg-white text-slate-800 antialiased dark:bg-slate-900 dark:text-slate-100">

  <!-- ======================= HEADER ======================= -->
  <header class="sticky top-0 z-50 backdrop-blur bg-white/80 border-b border-slate-200 dark:bg-slate-900/80 dark:border-slate-700">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-3">
      <button id="themeToggle" class="px-3 py-1 rounded-full border text-sm transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" aria-label="Basculer clair/sombre">‚òÄÔ∏è/üåô</button>
      <nav class="flex-1">
        <ul class="flex flex-wrap gap-2 text-sm">
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#resume">R√©sum√©</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#problematique">Table des mati√®res</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#methodo">M√©thodologie</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#resultats">R√©sultats</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#visualisations">Visualisations</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#latex">LaTeX</a></li>
          <li><a class="navbtn px-3 py-1 rounded-full border transition-colors hover:bg-brand-50 hover:border-brand-400 dark:border-slate-700 dark:hover:bg-slate-800 dark:hover:border-brand-400" href="#annexes">Annexes</a></li>
        </ul>
      </nav>
      <a href="files/rapport_stage_BO.pdf" class="px-3 py-1 rounded-full bg-brand-700 text-white text-sm transition-colors hover:bg-brand-600 dark:bg-brand-300 dark:text-slate-900 dark:hover:bg-brand-200" id="downloadPdfBtn">T√©l√©charger le PDF</a>
    </div>
  </header>

  <!-- ========= CONTENU (scop√©) : TOUT ce qui suit jusqu'au footer est dans #content ========= -->
  <main id="content">
    <!-- ======================= HERO ======================= -->
    <section class="bg-gradient-to-b from-slate-50 to-white border-b border-slate-200 dark:from-slate-900 dark:to-slate-900 dark:border-slate-700">
      <div class="max-w-6xl mx-auto px-4 py-16 grid md:grid-cols-2 gap-8 items-center">
        <div>
          <h1 class="text-3xl md:text-5xl font-bold leading-tight">BSO ASNR ‚Äî <span class="text-brand-800 dark:text-brand-200">Mise en place et retour d‚Äôexp√©rience</span></h1>
          <p class="mt-4 text-lg text-slate-600 dark:text-slate-300">Rapport de stage (M1 GSI, Paris 8) : construction d‚Äôun Barom√®tre de la Science Ouverte pour l‚ÄôASNR.</p>
        </div>
        <!-- ======== HERO SVG (remplacement de l'image PNG) ======== -->
<figure class="rounded-2xl shadow bg-white dark:bg-slate-800 p-6">
  <svg viewBox="0 0 800 500" class="w-full h-auto" role="img" aria-labelledby="heroTitle heroDesc">
    <title id="heroTitle">Histogramme stylis√© avec badge Open Access</title>
    <desc id="heroDesc">Trois barres en croissance, style tableau de bord, avec un pictogramme OA.</desc>

    <!-- Axes -->
    <g stroke="currentColor" class="text-slate-300 dark:text-slate-600">
      <line x1="90" y1="430" x2="730" y2="430" stroke-width="2"/>
      <line x1="90" y1="430" x2="90"  y2="80"  stroke-width="2"/>
    </g>

    <!-- D√©grad√© pour les barres (brand) -->
    <defs>
      <linearGradient id="barG" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%"  stop-color="#818CF8"/>
        <stop offset="100%" stop-color="#4F46E5"/>
      </linearGradient>
    </defs>

    <!-- Barres -->
    <rect x="160" y="320" width="90" height="110" rx="12" fill="url(#barG)"/>
    <rect x="320" y="260" width="90" height="170" rx="12" fill="url(#barG)"/>
    <rect x="480" y="170" width="90" height="260" rx="12" fill="url(#barG)"/>

    <!-- Rep√®res de grille -->
    <g stroke="currentColor" class="text-slate-200 dark:text-slate-700" stroke-dasharray="6 8">
      <line x1="90" y1="320" x2="730" y2="320"/>
      <line x1="90" y1="260" x2="730" y2="260"/>
      <line x1="90" y1="170" x2="730" y2="170"/>
    </g>

    <!-- Badge OA (accent) -->
    <g transform="translate(640,120)">
      <circle cx="0" cy="0" r="44" fill="#FF735F"/>
      <!-- cadenas ouvert -->
      <path d="M-10 -8 v-10 a18 18 0 0 1 36 0 v10" fill="none" stroke="white" stroke-width="6" stroke-linecap="round"/>
      <rect x="-22" y="-6" width="44" height="34" rx="8" fill="white" opacity="0.95"/>
      <circle cx="0" cy="10" r="5" fill="#FF735F"/>
      <rect x="-2" y="16" width="4" height="10" rx="2" fill="#FF735F"/>
    </g>
  </svg>
  <figcaption class="text-xs text-slate-500 dark:text-slate-400 mt-2 px-2">
  </figcaption>
</figure>

        <!-- ======== fin HERO SVG ======== -->
      </div>
    </section>

    <!-- ======================= RESUME ======================= -->
    <section id="resume" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
      <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">R√©sum√©</h2>
      <p class="mt-3 text-slate-600 dark:text-slate-300">
        Mon travail √† l‚ÄôASNR s‚Äôinscrit dans la continuit√© d‚Äôinitiatives ant√©rieures autour de la science ouverte (constitution d‚Äôune base de th√®ses et mise en place d‚Äôune collection HAL IRSN), avec un objectif d√©sormais central : concevoir et d√©ployer un Barom√®tre de la Science Ouverte (BSO) institutionnel.
        Le BSO constitue un outil de pilotage : il consolide des sources h√©t√©rog√®nes (Scopus, OpenAlex, HAL), clarifie les p√©rim√®tres (DOI vs DOI ‚à™ idHAL), fiabilise les indicateurs (taux d‚ÄôOA, couverture des bases, apports marginaux) et documente les choix m√©thodologiques (d√©doublonnage ‚ÄúDOI-first‚Äù, contr√¥le du bruit d‚Äôaffiliation, tra√ßabilit√© des transformations). Il permet ainsi d‚Äôobjectiver la performance de l‚Äô√©tablissement en mati√®re d‚Äôacc√®s ouvert, de prioriser les actions (d√©p√¥ts, corrections de m√©tadonn√©es) et de soutenir la d√©cision dans un contexte de forte exigence de transparence.
        Le rapport pr√©sente d‚Äôabord le cadre (ASNR et p√©rim√®tre d‚Äôanalyse), puis la m√©thodologie et les r√©sultats du BSO, avant d‚Äôouvrir sur une analyse critique des points sensibles observ√©s (d√©finition des d√©nominateurs, qualit√© des correspondances d‚Äôaffiliation, reproductibilit√© des traitements). Cette approche vise √† offrir un dispositif robuste, r√©utilisable et align√© avec les exigences de la science ouverte.
      </p>
      <div class="mt-6 grid md:grid-cols-3 gap-4">
        <article class="p-5 rounded-2xl border dark:border-slate-700">
          <h3>Contexte</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">La cr√©ation de l‚ÄôASNR (fusion ASN+IRSN) exige un suivi fiable de la production scientifique et du taux d‚ÄôOpen Access. Le BSO institutionnel vise √† consolider 2013‚Äì2024 malgr√© l‚Äôh√©t√©rog√©n√©it√© des bases et le bruit d‚Äôaffiliation.</p>
        </article>
        <article class="p-5 rounded-2xl border dark:border-slate-700">
          <h3>Approche</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Pipeline ‚ÄúDOI-first‚Äù : construction d‚Äôune base ma√Ætre, d√©doublonnage, consolidation Scopus/OpenAlex/HAL, enrichissement Unpaywall (OA/licences), contr√¥les manuels cibl√©s. P√©rim√®tres explicit√©s (DOI vs DOI‚à™idHAL), scripts reproductibles et tra√ßabilit√© des choix.</p>
        </article>
        <article class="p-5 rounded-2xl border dark:border-slate-700">
          <h3>Impact</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Couverture objectiv√©e (OpenAlex ‚â•70% avec ~20% hors Scopus), taux d‚ÄôOA mieux estim√©s gr√¢ce aux d√©p√¥ts/corrections HAL. Indicateurs actionnables pour la gouvernance et un processus p√©renne qui r√©duit le bruit et le temps de curation.</p>
        </article>
      </div>
    </section>

    <!-- ======================= PROBLEMATIQUE / TOC ======================= -->
    <section id="problematique" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
      <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">Probl√©matique et table des mati√®res</h2>
      <details class="p-4 border rounded-xl dark:border-slate-700" open>
        <summary>Probl√©matique</summary>
        <p class="mt-3">Comment fiabiliser un BSO institutionnel pour l‚ÄôASNR √† partir de sources h√©t√©rog√®nes comme Scopus, OpenAlex et HAL en limitant le bruit et en maximisant le d√©p√¥t OA r√©el ?</p>
      </details>

      <details class="p-4 border rounded-xl dark:border-slate-700" open>
        <summary class="font-medium cursor-pointer">Table des mati√®res</summary>
        <ul class="toc list-disc pl-6 space-y-1 text-slate-700 dark:text-slate-300">
          <li><a href="#search" class="toc-link">Le SEARCH : au c≈ìur de la valorisation des connaissances</a></li>
          <li>Le BSO : mesurer l‚Äô√©volution de la science ouverte en France
            <ul class="list-[square] pl-6 space-y-1">
              <li><a href="#oa-importance" class="toc-link">Importance de l‚ÄôOpen Access</a></li>
              <li><a href="#bso-presentation" class="toc-link">Pr√©sentation du Barom√®tre de la Science Ouverte</a></li>
            </ul>
          </li>
          <li>La note d‚Äô√©tonnement
            <ul class="list-[square] pl-6 space-y-1">
              <li><a href="#note-contexte" class="toc-link">Contexte de la note d‚Äô√©tonnement</a></li>
              <li><a href="#note-bilan" class="toc-link">Bilan de la note d‚Äô√©tonnement</a></li>
            </ul>
          </li>
          <li>Seconde partie : construire le BSO IRSN
            <ul class="list-[circle] pl-6 space-y-1">
              <li><a href="#methodologie" class="toc-link">M√©thodologie adopt√©e</a></li>
              <li>OpenAlex
                <ul class="list-[square] pl-6 space-y-1">
                  <li><a href="#openalex-presentation" class="toc-link">Pr√©sentation d‚ÄôOpenAlex</a></li>
                  <li><a href="#openalex-prise-en-main" class="toc-link">Prise en main d‚ÄôOpenAlex</a></li>
                  <li><a href="#openalex-fiabilite" class="toc-link">Fiabilit√© d‚ÄôOpenAlex</a></li>
                </ul>
              </li>
              <li><a href="#scripts-python" class="toc-link">Scripts Python</a></li>
              <li><a href="#base-reference" class="toc-link">Base de donn√©es de r√©f√©rence</a></li>
            </ul>
          </li>
          <li>Troisi√®me partie : r√©flexion apport√©e
            <ul class="list-[circle] pl-6 space-y-1">
              <li><a href="#reflexion-contexte" class="toc-link">Contextualisation</a></li>
              <li><a href="#reflexion-demarche" class="toc-link">R√©flexion et d√©marche</a></li>
              <li><a href="#ia-note" class="toc-link">Note sur les usages de l‚ÄôIA</a></li>
              <li><a href="#ia-usages" class="toc-link">Usages de l‚ÄôIAG dans le rapport</a></li>
              <li><a href="#outils-objectifs" class="toc-link">Outils mobilis√©s et objectifs</a></li>
              <li><a href="#retour-experience-iag" class="toc-link">Retour d‚Äôexp√©rience</a></li>
            </ul>
          </li>
          <li><a href="#conclusion" class="toc-link">Conclusion</a></li>
          <li><a href="#glossaire" class="toc-link">Glossaire</a></li>
          <li><a href="#acronymes" class="toc-link">Acronymes</a></li>
          <li><a href="#bibliographie" class="toc-link">Bibliographie</a></li>
          <li><a href="#annexes" class="toc-link">Annexes</a></li>
        </ul>
      </details>
    </section>

    <!-- ======================= METHODOLOGIE ======================= -->
    <section id="methodo" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
      <h2 id="methodologie" class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">M√©thodologie</h2>
      <div class="mt-4 grid md:grid-cols-3 gap-4">
        <article class="p-5 border rounded-2xl dark:border-slate-700">
          <h3>Design</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Constitution d‚Äôune base ma√Ætre, d√©doublonnage par DOI, contr√¥le typologies.</p>
        </article>
        <article class="p-5 border rounded-2xl dark:border-slate-700">
          <h3>Collecte</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">APIs OpenAlex/Scopus/HAL, ajout OA/licence via Unpaywall.</p>
        </article>
        <article class="p-5 border rounded-2xl dark:border-slate-700">
          <h3>Analyse</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Croisements, v√©rifs manuelles, d√©p√¥ts HAL, reporting interm√©diaire.</p>
        </article>
      </div>
    </section>

    <!-- ======================= RESULTATS ======================= -->
    <section id="resultats" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
      <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">Points cl√©s</h2>
      <div class="mt-6 grid md:grid-cols-2 gap-6">
        <article class="p-5 border rounded-2xl dark:border-slate-700">
          <h3>Couverture & apports</h3>
          <ul class="mt-2 text-sm list-disc pl-5">
            <li>Base V1 : 7092 lignes.</li>
            <li>OpenAlex couvre &gt;70% ; ~20% hors Scopus.</li>
            <li>Scripts : enrichissement HAL id / OA / APC.</li>
          </ul>
        </article>
        <article class="p-5 border rounded-2xl dark:border-slate-700">
          <h3>Points de vigilance</h3>
          <ul class="mt-2 text-sm list-disc pl-5">
            <li>BSO national : utile mais peu transparent.</li>
            <li>Affiliations : √©viter requ√™tes texte, pr√©f√©rer DOI.</li>
            <li>Typologies : pr√©f√©rer type_crossref.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- ======================= VISUALISATIONS ======================= -->
    <section id="visualisations" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
    <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">Galerie de figures</h2>
      <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <figure class="group relative border rounded-xl overflow-hidden cursor-zoom-in dark:border-slate-700"
                data-full="figures/figure2_methodo_mindmap.png"
                data-caption="Figure 2 ‚Äî Mindmap m√©thodologie">
          <img src="figures/figure2_methodo_mindmap.png" alt="Mindmap m√©thodologie"
               class="w-full aspect-video object-cover transition-transform duration-300 group-hover:scale-[1.02]" />
          <figcaption class="p-3 text-sm text-slate-600 dark:text-slate-300">M√©thodologie</figcaption>
        </figure>

        <figure class="group relative border rounded-xl overflow-hidden cursor-zoom-in dark:border-slate-700"
                data-full="figures/figure7_comparatif_metas.png"
                data-caption="Figure 7 ‚Äî Comparatif Scopus/OpenAlex/HAL">
          <img src="figures/figure7_comparatif_metas.png" alt="Comparatif m√©tadonn√©es"
               class="w-full aspect-video object-cover transition-transform duration-300 group-hover:scale-[1.02]" />
          <figcaption class="p-3 text-sm text-slate-600 dark:text-slate-300">Comparatif des m√©tadonn√©es</figcaption>
        </figure>
      </div>
    </section>

    <!-- ======================= LATEX ======================= -->
    <section id="latex" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700 mathjax-process">
  <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">Formules (LaTeX)</h2>
      <div class="mt-3 p-4 border rounded-xl text-sm text-slate-700 dark:text-slate-300 dark:border-slate-700">
        <ul class="mt-2 space-y-2 list-disc pl-5">
          <li><em>Taux d‚ÄôOpen Access</em> : sur 100 publications prises en compte, combien sont en libre acc√®s. Deux p√©rim√®tres : <strong>DOI</strong> seul (strict) vs <strong>DOI ‚à™ idHAL</strong> (plus large).</li>
          <li><em>Couverture & apport</em> : on compare <strong>OpenAlex</strong> et <strong>Scopus</strong>. La <u>couverture</u> indique la part visible dans OpenAlex, l‚Äô<u>apport</u> montre ce qu‚ÄôOpenAlex ajoute au-del√† de Scopus.</li>
          <li><em>Qualit√© du matching</em> : <strong>Pr√©cision</strong> (limiter le bruit), <strong>Rappel</strong> (ne pas rater de vrais cas), <strong>F1</strong> (√©quilibre des deux).</li>
          <li><em>D√©doublonnage ‚ÄúDOI-first‚Äù</em> : si plusieurs lignes ont le m√™me DOI, on garde la meilleure fiche et on fusionne les infos.</li>
        </ul>
        <div class="mt-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-800">
          <strong>√Ä √©viter :</strong> comparer des taux OA calcul√©s avec des <u>d√©nominateurs diff√©rents</u> (ex. DOI seul vs DOI‚à™idHAL). Toujours annoncer le p√©rim√®tre.
        </div>
      </div>

      <!-- Bloc 1 : Taux OA -->
      <div class="mt-6 p-5 border rounded-2xl bg-slate-50 dark:bg-slate-800 dark:border-slate-700">
        <h3 class="font-medium">1) Taux d‚ÄôOpen Access ‚Äî p√©rim√®tres explicit√©s</h3>
        <div class="mt-3 overflow-x-auto">
          \[
            \text{Taux OA}_{\mathrm{DOI}} = \frac{\#\,\mathrm{OA\ (DOI\ Crossref)}}{\#\,\mathrm{publi\ (DOI\ Crossref)}} \times 100\%
          \]
          \[
            \text{Taux OA}_{\mathrm{DOI}\cup\mathrm{idHAL}} = \frac{\#\,\mathrm{OA\ (DOI\ Crossref\ \lor\ idHAL)}}{\#\,\mathrm{publi\ (DOI\ Crossref\ \lor\ idHAL)}} \times 100\%
          \]
        </div>
      </div>

      <!-- Bloc 2 : Couverture & apport -->
      <div class="mt-6 grid md:grid-cols-2 gap-4">
        <div class="p-5 border rounded-2xl bg-slate-50 dark:bg-slate-800 dark:border-slate-700">
          <h3 class="font-medium">2) Couverture & apport marginal (OpenAlex vs Scopus)</h3>
          <div class="mt-3 overflow-x-auto">
            \[ S=\text{Scopus},\quad A=\text{OpenAlex} \]
            \[
              \text{Couverture}(A) = \frac{|A|}{|S\cup A|},\qquad
              \text{Apport}_{A\setminus S} = \frac{|A\setminus S|}{|S\cup A|}\times 100\%
            \]
          </div>
        </div>

        <!-- Bloc 3 : Qualit√© du matching -->
        <div class="p-5 border rounded-2xl bg-slate-50 dark:bg-slate-800 dark:border-slate-700">
          <h3 class="font-medium">3) Qualit√© du matching d‚Äôaffiliation</h3>
          <div class="mt-3 overflow-x-auto">
            \[
              \mathrm{Pr\acute{e}cision}=\tfrac{TP}{TP+FP},\quad
              \mathrm{Rappel}=\tfrac{TP}{TP+FN},\quad
              \mathrm{F1}=2\cdot\tfrac{\mathrm{Pr\acute{e}cision}\cdot\mathrm{Rappel}}{\mathrm{Pr\acute{e}cision}+\mathrm{Rappel}}
            \]
          </div>
        </div>
      </div>

      <!-- Bloc 4 : D√©doublonnage -->
      <div class="mt-6 p-5 border rounded-2xl bg-slate-50 dark:bg-slate-800 dark:border-slate-700">
        <h3 class="font-medium">4) R√®gle de d√©doublonnage ¬´ DOI-first ¬ª</h3>
        <pre class="mt-3 text-sm overflow-x-auto"><code>// D√©doublonnage "DOI-first" et fusion des m√©tadonn√©es
for each DOI-group g:
  if |g| > 1:
    // Priorit√© de qualit√© : Scopus > OpenAlex > HAL (si pr√©sent)
    keep = argmax_r score_metadata(r)
    merge(keep, g \ {keep})  // union des champs non vides
  else:
    keep = only(g)
append(keep)

// Exemple de score simpliste
score_metadata(r) = w1*has_crossref_type(r) + w2*completeness(r) + w3*source_priority(r)
</code></pre>
      </div>
    </section>

<!-- ======================= ANNEXES ======================= -->
<section id="annexes" class="max-w-6xl mx-auto px-4 py-12 border-t dark:border-slate-700">
  <h2 class="text-2xl md:text-3xl font-semibold text-brand-800 dark:text-brand-200">Annexes & t√©l√©chargements</h2>

  <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <!-- PDF du rapport -->
    <a href="files/rapport_stage_BO.pdf" class="annexe group">
      <div class="p-5 h-full border rounded-2xl transition-colors flex items-center gap-3
                  group-hover:bg-accent-50 group-hover:border-accent-400
                  dark:border-slate-700 dark:group-hover:bg-slate-800 dark:group-hover:border-accent-400">
        <span class="inline-flex w-6 h-6 text-accent-500 dark:text-accent-400" aria-hidden="true">
          <!-- Ic√¥ne fichier -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <path d="M14 2v6h6"/>
            <rect x="7" y="13" width="10" height="2" rx="1"/>
            <rect x="7" y="17" width="8" height="2" rx="1"/>
          </svg>
        </span>
        <h3>PDF du rapport (M1 GSI)</h3>
      </div>
    </a>

    <!-- Scripts -->
<a href="https://github.com/justinebo-hub/pythonpool" class="annexe group" target="_blank" rel="noopener noreferrer">
      <div class="p-5 h-full border rounded-2xl transition-colors flex items-center gap-3
                  group-hover:bg-accent-50 group-hover:border-accent-400
                  dark:border-slate-700 dark:group-hover:bg-slate-800 dark:group-hover:border-accent-400">
        <span class="inline-flex w-6 h-6 text-accent-500 dark:text-accent-400" aria-hidden="true">
          <!-- Ic√¥ne code </>
          -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
            <path d="M8 16l-4-4 4-4"/>
            <path d="M16 8l4 4-4 4"/>
            <path d="M14 4L10 20"/>
          </svg>
        </span>
        <h3>Scripts</h3>
      </div>
    </a>

    <!-- Bibliographie (.bib) -->
    <a href="files/bibliographie.bib" class="annexe group">
      <div class="p-5 h-full border rounded-2xl transition-colors flex items-center gap-3
                  group-hover:bg-accent-50 group-hover:border-accent-400
                  dark:border-slate-700 dark:group-hover:bg-slate-800 dark:group-hover:border-accent-400">
        <span class="inline-flex w-6 h-6 text-accent-500 dark:text-accent-400" aria-hidden="true">
          <!-- Ic√¥ne livre -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
            <path d="M3 6a2 2 0 0 1 2-2h11a3 3 0 0 1 3 3v13H7a2 2 0 0 0-2 2V6z"/>
            <path d="M7 6h12"/>
          </svg>
        </span>
        <h3>Bibliographie (.bib)</h3>
      </div>
    </a>
  </div>
</section>
  </main>
  <!-- ========= fin contenu scop√© ========= -->

  <!-- ======================= FOOTER ======================= -->
  <footer class="border-t dark:border-slate-700">
    <div class="max-w-6xl mx-auto px-4 py-10 text-sm text-slate-500 dark:text-slate-400">
      <p>¬© 2025 ‚Äî Rapport de stage M1 GSI ‚Äî Justine Bouwy-Ounnough.</p>
    </div>
  </footer>

  <!-- Lightbox / pop-up d‚Äôimage -->
  <div id="lightbox"
       class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/70 p-4"
       role="dialog" aria-modal="true" aria-labelledby="lightboxCap" aria-hidden="true">
    <button id="lightboxClose"
            class="absolute top-4 right-4 px-3 py-1 rounded-full bg-white/90 text-slate-900 shadow hover:bg-white"
            aria-label="Fermer (Esc)">√ó</button>
    <figure class="max-w-5xl w-full">
      <img id="lightboxImg" src="" alt="" class="w-full max-h-[85vh] object-contain rounded-2xl shadow-2xl" />
      <figcaption id="lightboxCap" class="mt-2 text-center text-slate-100 text-sm"></figcaption>
    </figure>
  </div>

  <!-- ======================= BOUTON RETOUR HAUT ======================= -->
  <button id="backToTop" class="fixed bottom-6 right-6 w-12 h-12 rounded-full bg-brand-700 text-white flex items-center justify-center shadow-lg opacity-0 pointer-events-none transition-opacity dark:bg-brand-300 dark:text-slate-900" aria-label="Retour en haut">
    ‚Üë
    <svg id="progressCircle" class="absolute inset-0 w-full h-full" viewBox="0 0 36 36">
      <path class="text-slate-400 dark:text-slate-600" stroke="currentColor" stroke-width="3" fill="none"
            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
      <path id="progressPath" class="text-white dark:text-slate-900" stroke="currentColor" stroke-width="3" fill="none"
            stroke-dasharray="100, 100"
            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
    </svg>
  </button>

  <!-- ======================= SCRIPTS ======================= -->
  <script>
    // ===== Lightbox (Galerie de figures) =====
    const lightbox = document.getElementById('lightbox');
    const lbImg    = document.getElementById('lightboxImg');
    const lbCap    = document.getElementById('lightboxCap');
    const lbClose  = document.getElementById('lightboxClose');

    function openLightbox(src, alt, cap){
      lbImg.src = src || '';
      lbImg.alt = alt || '';
      lbCap.textContent = cap || '';
      lightbox.classList.remove('hidden'); lightbox.classList.add('flex');
      lightbox.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(){
      lightbox.classList.add('hidden'); lightbox.classList.remove('flex');
      lightbox.setAttribute('aria-hidden', 'true');
      lbImg.src = '';
      document.body.style.overflow = '';
    }

    document.querySelectorAll('#visualisations figure').forEach(fig => {
      fig.addEventListener('click', () => {
        const full = fig.dataset.full || fig.querySelector('img')?.src;
        const alt  = fig.querySelector('img')?.alt || '';
        const cap  = fig.dataset.caption || fig.querySelector('figcaption')?.textContent || '';
        openLightbox(full, alt, cap);
      });
    });

    lbClose.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closeLightbox(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) closeLightbox(); });

    // Toggle clair/sombre avec persistance
    const themeToggle = document.getElementById('themeToggle');
    themeToggle?.addEventListener('click', () => {
      const root = document.documentElement;
      const isDark = root.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // Bouton retour en haut avec progression
    const backToTop = document.getElementById('backToTop');
    const progressPath = document.getElementById('progressPath');

    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

      progressPath.setAttribute('stroke-dasharray', `${scrollPercent},100`);
      if (scrollTop > 200) backToTop.classList.remove('opacity-0', 'pointer-events-none');
      else backToTop.classList.add('opacity-0', 'pointer-events-none');
    });

    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
